package com.application.algorithm.douglas;



import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

import java.io.*;
import java.util.ArrayList;
import java.util.List;

public class DouglasTest {
    /**
     * 存储采样点数据链表
     */
    public static List<ModelDTO> points = new ArrayList<ModelDTO>();
    /**
     * 控制数据经度压缩的极差
     */
    private static final double D = 0.0001;
    //private static final double D = 1;

    /**
     * 对矢量曲线进行压缩
     *
     * @param from 曲线的起始点
     * @param to   曲线的终止点
     */
    public static void compress(ModelDTO from, ModelDTO to) {
        /**
         * 压缩算法的开关
         */
        boolean switchvalue = false;
        /**
         * 由起始点和终止点构成直线方程一般式的系数
         */
        double fromLat = from.getLatitude();
        double fromLng = from.getLongitude();
        double toLat = to.getLatitude();
        double toLng = to.getLongitude();
        double A = (fromLat - toLat)
                / Math.sqrt(Math.pow((fromLat - toLat), 2)
                + Math.pow((fromLng - toLng), 2));
        /**
         * 由起始点和终止点构成直线方程一般式的系数
         */
        double B = (toLng - fromLng)
                / Math.sqrt(Math.pow((fromLat - toLat), 2)
                + Math.pow((fromLng - toLng), 2));
        /**
         * 由起始点和终止点构成直线方程一般式的系数
         */
        double C = (fromLng * toLat - toLng * fromLat)
                / Math.sqrt(Math.pow((fromLat - toLat), 2)
                + Math.pow((fromLng - toLng), 2));

        double d = 0;
        double dmax = 0;
        int m = points.indexOf(from);
        int n = points.indexOf(to);
        if (n == m + 1)
            return;
        ModelDTO middle = null;
        List<Double> distance = new ArrayList<>();
        for (int i = m + 1; i < n; i++) {
            double blng = points.get(i).getLongitude();
            double blat = points.get(i).getLatitude();
            d = Math.abs(A * (blng) + B * (blat) + C) / Math.sqrt(Math.pow(A, 2) + Math.pow(B, 2));
            distance.add(d);
        }
        dmax = distance.get(0);
        for (int j = 1; j < distance.size(); j++) {
            if (distance.get(j) > dmax)
                dmax = distance.get(j);
        }
        if (dmax > D)
            switchvalue = true;
        else
            switchvalue = false;
        if (!switchvalue) {
            //删除Points(m,n)内的坐标
            for (int i = m + 1; i < n; i++) {
                points.get(i).setIndex(-1);
            }
        } else {
            for (int i = m + 1; i < n; i++) {
                double blng = points.get(i).getLongitude();
                double blat = points.get(i).getLatitude();
                if ((Math.abs(A * (blng) + B
                        * (blat) + C)
                        / Math.sqrt(Math.pow(A, 2) + Math.pow(B, 2)) == dmax))
                    middle = points.get(i);
            }
            compress(from, middle);
            compress(middle, to);
        }
    }

    public static List<ModelDTO > douglasData(List<ModelDTO > source) {
        points = source;
        System.out.println("压缩前：");

//        for (int i = 0; i < points.size(); i++) {
//            ModelDTO p = points.get(i);
//            System.out.print("[" + p.getLongitude() + "," + p.getLatitude() + "],");
//        }
        compress(points.get(0), points.get(points.size() - 1));
        System.out.println("\n压缩后：");
        List<ModelDTO > list = new ArrayList<>();
        JSONArray jsonArray = new JSONArray();
        for (int i = 0; i < points.size(); i++) {
            ModelDTO p = points.get(i);
            if (p.getIndex() > -1) {
                list.add(p);
                //System.out.print("[" + p.getLongitude() + "," + p.getLatitude() + "],");
                JSONObject jsonObject = new JSONObject();
                jsonObject.put("latitude",p.getLatitude());
                jsonObject.put("longitude",p.getLongitude());
                jsonArray.add(jsonObject);
            }
        }
        System.out.println("result list:" + jsonArray.size()+ "   =   "+ jsonArray.toJSONString());
        return list;
    }

    public static void main(String[] args) {
        List<ModelDTO > modelList = new ArrayList<>();
//        modelList.add(new ModelDTO(1,4,1));
//        modelList.add(new ModelDTO(2,3,2));
//        modelList.add(new ModelDTO(4,2,4));
//        modelList.add(new ModelDTO(6,6,6));
//        modelList.add(new ModelDTO(7,7,7));
//        modelList.add(new ModelDTO(8,6,8));
//        modelList.add(new ModelDTO(9,5,9));

        //String jsonStr = "[{\"latitude\":18.155351,\"longitude\":109.688798},{\"latitude\":18.155346,\"longitude\":109.689209},{\"latitude\":18.155338,\"longitude\":109.689621},{\"latitude\":18.155325,\"longitude\":109.690034},{\"latitude\":18.15531,\"longitude\":109.690446},{\"latitude\":18.155291,\"longitude\":109.690858},{\"latitude\":18.155269,\"longitude\":109.691269},{\"latitude\":18.155243,\"longitude\":109.691681},{\"latitude\":18.155214,\"longitude\":109.692092},{\"latitude\":18.155181,\"longitude\":109.692503},{\"latitude\":18.155145,\"longitude\":109.692914},{\"latitude\":18.155105,\"longitude\":109.693324},{\"latitude\":18.155063,\"longitude\":109.693734},{\"latitude\":18.155016,\"longitude\":109.694143},{\"latitude\":18.154966,\"longitude\":109.694552},{\"latitude\":18.154913,\"longitude\":109.694961},{\"latitude\":18.154857,\"longitude\":109.695369},{\"latitude\":18.154797,\"longitude\":109.695777},{\"latitude\":18.154733,\"longitude\":109.696184},{\"latitude\":18.154667,\"longitude\":109.69659},{\"latitude\":18.154596,\"longitude\":109.696996},{\"latitude\":18.154523,\"longitude\":109.697401},{\"latitude\":18.154446,\"longitude\":109.697805},{\"latitude\":18.154366,\"longitude\":109.698209},{\"latitude\":18.154282,\"longitude\":109.698612},{\"latitude\":18.154195,\"longitude\":109.699014},{\"latitude\":18.154105,\"longitude\":109.699416},{\"latitude\":18.154011,\"longitude\":109.699816},{\"latitude\":18.153914,\"longitude\":109.700216},{\"latitude\":18.153813,\"longitude\":109.700615},{\"latitude\":18.15371,\"longitude\":109.701012},{\"latitude\":18.153603,\"longitude\":109.701409},{\"latitude\":18.153492,\"longitude\":109.701805},{\"latitude\":18.153379,\"longitude\":109.7022},{\"latitude\":18.153262,\"longitude\":109.702594},{\"latitude\":18.153141,\"longitude\":109.702987},{\"latitude\":18.153018,\"longitude\":109.703378},{\"latitude\":18.152891,\"longitude\":109.703769},{\"latitude\":18.152761,\"longitude\":109.704158},{\"latitude\":18.152628,\"longitude\":109.704546},{\"latitude\":18.152491,\"longitude\":109.704933},{\"latitude\":18.152352,\"longitude\":109.705318},{\"latitude\":18.152209,\"longitude\":109.705703},{\"latitude\":18.152063,\"longitude\":109.706086},{\"latitude\":18.151913,\"longitude\":109.706467},{\"latitude\":18.151761,\"longitude\":109.706848},{\"latitude\":18.151605,\"longitude\":109.707226},{\"latitude\":18.151447,\"longitude\":109.707604},{\"latitude\":18.151285,\"longitude\":109.70798},{\"latitude\":18.151119,\"longitude\":109.708354},{\"latitude\":18.150951,\"longitude\":109.708727},{\"latitude\":18.15078,\"longitude\":109.709099},{\"latitude\":18.150606,\"longitude\":109.709468},{\"latitude\":18.150428,\"longitude\":109.709837},{\"latitude\":18.150248,\"longitude\":109.710203},{\"latitude\":18.150064,\"longitude\":109.710568},{\"latitude\":18.149877,\"longitude\":109.710931},{\"latitude\":18.149688,\"longitude\":109.711293},{\"latitude\":18.149495,\"longitude\":109.711653},{\"latitude\":18.149299,\"longitude\":109.712011},{\"latitude\":18.149101,\"longitude\":109.712367},{\"latitude\":18.148899,\"longitude\":109.712721},{\"latitude\":18.148695,\"longitude\":109.713074},{\"latitude\":18.148487,\"longitude\":109.713424},{\"latitude\":18.148277,\"longitude\":109.713773},{\"latitude\":18.148063,\"longitude\":109.71412},{\"latitude\":18.147847,\"longitude\":109.714464},{\"latitude\":18.147628,\"longitude\":109.714807},{\"latitude\":18.147406,\"longitude\":109.715148},{\"latitude\":18.147181,\"longitude\":109.715487},{\"latitude\":18.146954,\"longitude\":109.715824},{\"latitude\":18.146723,\"longitude\":109.716158},{\"latitude\":18.14649,\"longitude\":109.716491},{\"latitude\":18.146254,\"longitude\":109.716821},{\"latitude\":18.146016,\"longitude\":109.717149},{\"latitude\":18.145774,\"longitude\":109.717475},{\"latitude\":18.14553,\"longitude\":109.717799},{\"latitude\":18.145283,\"longitude\":109.718121},{\"latitude\":18.145034,\"longitude\":109.71844},{\"latitude\":18.144782,\"longitude\":109.718757},{\"latitude\":18.144527,\"longitude\":109.719071},{\"latitude\":18.14427,\"longitude\":109.719384},{\"latitude\":18.14401,\"longitude\":109.719694},{\"latitude\":18.143747,\"longitude\":109.720001},{\"latitude\":18.143482,\"longitude\":109.720306},{\"latitude\":18.143214,\"longitude\":109.720609},{\"latitude\":18.142944,\"longitude\":109.720909},{\"latitude\":18.142672,\"longitude\":109.721207},{\"latitude\":18.142396,\"longitude\":109.721503},{\"latitude\":18.142119,\"longitude\":109.721795},{\"latitude\":18.141839,\"longitude\":109.722086},{\"latitude\":18.141556,\"longitude\":109.722373},{\"latitude\":18.141272,\"longitude\":109.722658},{\"latitude\":18.140984,\"longitude\":109.722941},{\"latitude\":18.140695,\"longitude\":109.723221},{\"latitude\":18.140403,\"longitude\":109.723498},{\"latitude\":18.140109,\"longitude\":109.723772},{\"latitude\":18.139812,\"longitude\":109.724044},{\"latitude\":18.139514,\"longitude\":109.724313},{\"latitude\":18.139213,\"longitude\":109.72458},{\"latitude\":18.13891,\"longitude\":109.724843},{\"latitude\":18.138604,\"longitude\":109.725104},{\"latitude\":18.138297,\"longitude\":109.725362},{\"latitude\":18.137987,\"longitude\":109.725617},{\"latitude\":18.137675,\"longitude\":109.72587},{\"latitude\":18.137362,\"longitude\":109.726119},{\"latitude\":18.137046,\"longitude\":109.726366},{\"latitude\":18.136728,\"longitude\":109.726609},{\"latitude\":18.136408,\"longitude\":109.72685},{\"latitude\":18.136086,\"longitude\":109.727088},{\"latitude\":18.135762,\"longitude\":109.727323},{\"latitude\":18.135436,\"longitude\":109.727555},{\"latitude\":18.135108,\"longitude\":109.727784},{\"latitude\":18.134778,\"longitude\":109.72801},{\"latitude\":18.134447,\"longitude\":109.728233},{\"latitude\":18.134113,\"longitude\":109.728453},{\"latitude\":18.133778,\"longitude\":109.72867},{\"latitude\":18.133441,\"longitude\":109.728884},{\"latitude\":18.133102,\"longitude\":109.729095},{\"latitude\":18.132761,\"longitude\":109.729302},{\"latitude\":18.132419,\"longitude\":109.729507},{\"latitude\":18.132075,\"longitude\":109.729708},{\"latitude\":18.131729,\"longitude\":109.729906},{\"latitude\":18.131382,\"longitude\":109.730101},{\"latitude\":18.131033,\"longitude\":109.730293},{\"latitude\":18.130683,\"longitude\":109.730482},{\"latitude\":18.130331,\"longitude\":109.730667},{\"latitude\":18.129977,\"longitude\":109.73085},{\"latitude\":18.129622,\"longitude\":109.731029},{\"latitude\":18.129265,\"longitude\":109.731205},{\"latitude\":18.128907,\"longitude\":109.731377},{\"latitude\":18.128548,\"longitude\":109.731546},{\"latitude\":18.128187,\"longitude\":109.731712},{\"latitude\":18.127825,\"longitude\":109.731875},{\"latitude\":18.127461,\"longitude\":109.732034},{\"latitude\":18.127096,\"longitude\":109.73219},{\"latitude\":18.12673,\"longitude\":109.732343},{\"latitude\":18.126363,\"longitude\":109.732492},{\"latitude\":18.125994,\"longitude\":109.732638},{\"latitude\":18.125624,\"longitude\":109.732781},{\"latitude\":18.125253,\"longitude\":109.73292},{\"latitude\":18.124881,\"longitude\":109.733056},{\"latitude\":18.124507,\"longitude\":109.733188},{\"latitude\":18.124133,\"longitude\":109.733317},{\"latitude\":18.123757,\"longitude\":109.733443},{\"latitude\":18.123381,\"longitude\":109.733565},{\"latitude\":18.123003,\"longitude\":109.733684},{\"latitude\":18.122625,\"longitude\":109.733799},{\"latitude\":18.122246,\"longitude\":109.733911},{\"latitude\":18.121865,\"longitude\":109.734019},{\"latitude\":18.121484,\"longitude\":109.734124},{\"latitude\":18.121102,\"longitude\":109.734226},{\"latitude\":18.120719,\"longitude\":109.734324},{\"latitude\":18.120335,\"longitude\":109.734418},{\"latitude\":18.119951,\"longitude\":109.734509},{\"latitude\":18.119565,\"longitude\":109.734596},{\"latitude\":18.119179,\"longitude\":109.73468},{\"latitude\":18.118793,\"longitude\":109.73476},{\"latitude\":18.118405,\"longitude\":109.734837},{\"latitude\":18.118017,\"longitude\":109.73491},{\"latitude\":18.117629,\"longitude\":109.73498},{\"latitude\":18.11724,\"longitude\":109.735046},{\"latitude\":18.11685,\"longitude\":109.735109},{\"latitude\":18.11646,\"longitude\":109.735168},{\"latitude\":18.116069,\"longitude\":109.735223},{\"latitude\":18.115678,\"longitude\":109.735275},{\"latitude\":18.115287,\"longitude\":109.735324},{\"latitude\":18.114895,\"longitude\":109.735369},{\"latitude\":18.114503,\"longitude\":109.73541},{\"latitude\":18.11411,\"longitude\":109.735447},{\"latitude\":18.113717,\"longitude\":109.735481},{\"latitude\":18.113324,\"longitude\":109.735512},{\"latitude\":18.112931,\"longitude\":109.735539},{\"latitude\":18.112537,\"longitude\":109.735562},{\"latitude\":18.112143,\"longitude\":109.735582},{\"latitude\":18.111749,\"longitude\":109.735598},{\"latitude\":18.111355,\"longitude\":109.73561},{\"latitude\":18.110961,\"longitude\":109.735619},{\"latitude\":18.110567,\"longitude\":109.735624},{\"latitude\":18.110173,\"longitude\":109.735626},{\"latitude\":18.109778,\"longitude\":109.735624},{\"latitude\":18.109384,\"longitude\":109.735619},{\"latitude\":18.10899,\"longitude\":109.73561},{\"latitude\":18.108596,\"longitude\":109.735597},{\"latitude\":18.108202,\"longitude\":109.735581},{\"latitude\":18.107808,\"longitude\":109.735561},{\"latitude\":18.107415,\"longitude\":109.735537},{\"latitude\":18.107022,\"longitude\":109.73551},{\"latitude\":18.106628,\"longitude\":109.735479},{\"latitude\":18.106236,\"longitude\":109.735445},{\"latitude\":18.105843,\"longitude\":109.735407},{\"latitude\":18.105451,\"longitude\":109.735366},{\"latitude\":18.105059,\"longitude\":109.735321},{\"latitude\":18.104667,\"longitude\":109.735272},{\"latitude\":18.104276,\"longitude\":109.73522},{\"latitude\":18.103886,\"longitude\":109.735165},{\"latitude\":18.103496,\"longitude\":109.735105},{\"latitude\":18.103106,\"longitude\":109.735043},{\"latitude\":18.102717,\"longitude\":109.734976},{\"latitude\":18.102328,\"longitude\":109.734906},{\"latitude\":18.10194,\"longitude\":109.734833},{\"latitude\":18.101553,\"longitude\":109.734756},{\"latitude\":18.101167,\"longitude\":109.734675},{\"latitude\":18.100781,\"longitude\":109.734591},{\"latitude\":18.100395,\"longitude\":109.734504},{\"latitude\":18.100011,\"longitude\":109.734413},{\"latitude\":18.099627,\"longitude\":109.734318},{\"latitude\":18.099244,\"longitude\":109.73422},{\"latitude\":18.098862,\"longitude\":109.734118},{\"latitude\":18.098481,\"longitude\":109.734013},{\"latitude\":18.098101,\"longitude\":109.733905},{\"latitude\":18.097721,\"longitude\":109.733793},{\"latitude\":18.097343,\"longitude\":109.733677},{\"latitude\":18.096965,\"longitude\":109.733558},{\"latitude\":18.096589,\"longitude\":109.733436},{\"latitude\":18.096214,\"longitude\":109.73331},{\"latitude\":18.095839,\"longitude\":109.733181},{\"latitude\":18.095466,\"longitude\":109.733049},{\"latitude\":18.095094,\"longitude\":109.732913},{\"latitude\":18.094723,\"longitude\":109.732773},{\"latitude\":18.094353,\"longitude\":109.73263},{\"latitude\":18.093984,\"longitude\":109.732484},{\"latitude\":18.093617,\"longitude\":109.732335},{\"latitude\":18.093251,\"longitude\":109.732182},{\"latitude\":18.092886,\"longitude\":109.732026},{\"latitude\":18.092522,\"longitude\":109.731866},{\"latitude\":18.09216,\"longitude\":109.731703},{\"latitude\":18.091799,\"longitude\":109.731537},{\"latitude\":18.09144,\"longitude\":109.731368},{\"latitude\":18.091082,\"longitude\":109.731195},{\"latitude\":18.090726,\"longitude\":109.731019},{\"latitude\":18.090371,\"longitude\":109.73084},{\"latitude\":18.090017,\"longitude\":109.730658},{\"latitude\":18.089665,\"longitude\":109.730472},{\"latitude\":18.089315,\"longitude\":109.730283},{\"latitude\":18.088966,\"longitude\":109.730091},{\"latitude\":18.088619,\"longitude\":109.729896},{\"latitude\":18.088273,\"longitude\":109.729698},{\"latitude\":18.087929,\"longitude\":109.729496},{\"latitude\":18.087587,\"longitude\":109.729292},{\"latitude\":18.087246,\"longitude\":109.729084},{\"latitude\":18.086908,\"longitude\":109.728873},{\"latitude\":18.086571,\"longitude\":109.728659},{\"latitude\":18.086235,\"longitude\":109.728442},{\"latitude\":18.085902,\"longitude\":109.728222},{\"latitude\":18.085571,\"longitude\":109.727999},{\"latitude\":18.085241,\"longitude\":109.727773},{\"latitude\":18.084913,\"longitude\":109.727544},{\"latitude\":18.084587,\"longitude\":109.727312},{\"latitude\":18.084263,\"longitude\":109.727077},{\"latitude\":18.083942,\"longitude\":109.726839},{\"latitude\":18.083622,\"longitude\":109.726598},{\"latitude\":18.083304,\"longitude\":109.726354},{\"latitude\":18.082988,\"longitude\":109.726107},{\"latitude\":18.082674,\"longitude\":109.725858},{\"latitude\":18.082363,\"longitude\":109.725605},{\"latitude\":18.082053,\"longitude\":109.72535},{\"latitude\":18.081746,\"longitude\":109.725092},{\"latitude\":18.08144,\"longitude\":109.724831},{\"latitude\":18.081137,\"longitude\":109.724568},{\"latitude\":18.080837,\"longitude\":109.724301},{\"latitude\":18.080538,\"longitude\":109.724032},{\"latitude\":18.080242,\"longitude\":109.72376},{\"latitude\":18.079948,\"longitude\":109.723486},{\"latitude\":18.079656,\"longitude\":109.723209},{\"latitude\":18.079366,\"longitude\":109.722929},{\"latitude\":18.079079,\"longitude\":109.722646},{\"latitude\":18.078795,\"longitude\":109.722361},{\"latitude\":18.078512,\"longitude\":109.722074},{\"latitude\":18.078232,\"longitude\":109.721783},{\"latitude\":18.077955,\"longitude\":109.72149},{\"latitude\":18.07768,\"longitude\":109.721195},{\"latitude\":18.077407,\"longitude\":109.720897},{\"latitude\":18.077137,\"longitude\":109.720597},{\"latitude\":18.07687,\"longitude\":109.720294},{\"latitude\":18.076605,\"longitude\":109.719989},{\"latitude\":18.076342,\"longitude\":109.719682},{\"latitude\":18.076082,\"longitude\":109.719372},{\"latitude\":18.075825,\"longitude\":109.719059},{\"latitude\":18.07557,\"longitude\":109.718745},{\"latitude\":18.075318,\"longitude\":109.718428},{\"latitude\":18.075069,\"longitude\":109.718109},{\"latitude\":18.074822,\"longitude\":109.717787},{\"latitude\":18.074578,\"longitude\":109.717463},{\"latitude\":18.074337,\"longitude\":109.717137},{\"latitude\":18.074098,\"longitude\":109.716809},{\"latitude\":18.073862,\"longitude\":109.716479},{\"latitude\":18.073629,\"longitude\":109.716147},{\"latitude\":18.073399,\"longitude\":109.715812},{\"latitude\":18.073172,\"longitude\":109.715475},{\"latitude\":18.072947,\"longitude\":109.715137},{\"latitude\":18.072725,\"longitude\":109.714796},{\"latitude\":18.072506,\"longitude\":109.714453},{\"latitude\":18.07229,\"longitude\":109.714109},{\"latitude\":18.072077,\"longitude\":109.713762},{\"latitude\":18.071867,\"longitude\":109.713413},{\"latitude\":18.071659,\"longitude\":109.713063},{\"latitude\":18.071455,\"longitude\":109.71271},{\"latitude\":18.071253,\"longitude\":109.712356},{\"latitude\":18.071055,\"longitude\":109.712},{\"latitude\":18.070859,\"longitude\":109.711642},{\"latitude\":18.070666,\"longitude\":109.711283},{\"latitude\":18.070477,\"longitude\":109.710921},{\"latitude\":18.07029,\"longitude\":109.710558},{\"latitude\":18.070107,\"longitude\":109.710193},{\"latitude\":18.069926,\"longitude\":109.709827},{\"latitude\":18.069749,\"longitude\":109.709459},{\"latitude\":18.069575,\"longitude\":109.709089},{\"latitude\":18.069403,\"longitude\":109.708718},{\"latitude\":18.069235,\"longitude\":109.708345},{\"latitude\":18.06907,\"longitude\":109.707971},{\"latitude\":18.068908,\"longitude\":109.707595},{\"latitude\":18.06875,\"longitude\":109.707218},{\"latitude\":18.068594,\"longitude\":109.706839},{\"latitude\":18.068442,\"longitude\":109.706459},{\"latitude\":18.068292,\"longitude\":109.706077},{\"latitude\":18.068146,\"longitude\":109.705694},{\"latitude\":18.068004,\"longitude\":109.70531},{\"latitude\":18.067864,\"longitude\":109.704925},{\"latitude\":18.067727,\"longitude\":109.704538},{\"latitude\":18.067594,\"longitude\":109.70415},{\"latitude\":18.067464,\"longitude\":109.703761},{\"latitude\":18.067338,\"longitude\":109.703371},{\"latitude\":18.067214,\"longitude\":109.702979},{\"latitude\":18.067094,\"longitude\":109.702587},{\"latitude\":18.066977,\"longitude\":109.702193},{\"latitude\":18.066864,\"longitude\":109.701799},{\"latitude\":18.066753,\"longitude\":109.701403},{\"latitude\":18.066646,\"longitude\":109.701006},{\"latitude\":18.066543,\"longitude\":109.700608},{\"latitude\":18.066442,\"longitude\":109.70021},{\"latitude\":18.066345,\"longitude\":109.69981},{\"latitude\":18.066252,\"longitude\":109.69941},{\"latitude\":18.066161,\"longitude\":109.699009},{\"latitude\":18.066074,\"longitude\":109.698607},{\"latitude\":18.065991,\"longitude\":109.698204},{\"latitude\":18.06591,\"longitude\":109.697801},{\"latitude\":18.065834,\"longitude\":109.697396},{\"latitude\":18.06576,\"longitude\":109.696991},{\"latitude\":18.06569,\"longitude\":109.696586},{\"latitude\":18.065623,\"longitude\":109.69618},{\"latitude\":18.06556,\"longitude\":109.695773},{\"latitude\":18.0655,\"longitude\":109.695365},{\"latitude\":18.065443,\"longitude\":109.694958},{\"latitude\":18.06539,\"longitude\":109.694549},{\"latitude\":18.06534,\"longitude\":109.69414},{\"latitude\":18.065294,\"longitude\":109.693731},{\"latitude\":18.065251,\"longitude\":109.693321},{\"latitude\":18.065212,\"longitude\":109.692911},{\"latitude\":18.065176,\"longitude\":109.692501},{\"latitude\":18.065143,\"longitude\":109.69209},{\"latitude\":18.065114,\"longitude\":109.691679},{\"latitude\":18.065088,\"longitude\":109.691268},{\"latitude\":18.065066,\"longitude\":109.690856},{\"latitude\":18.065047,\"longitude\":109.690445},{\"latitude\":18.065031,\"longitude\":109.690033},{\"latitude\":18.065019,\"longitude\":109.689621},{\"latitude\":18.065011,\"longitude\":109.689209},{\"latitude\":18.065006,\"longitude\":109.688797},{\"latitude\":18.065004,\"longitude\":109.688384},{\"latitude\":18.065006,\"longitude\":109.687972},{\"latitude\":18.065011,\"longitude\":109.68756},{\"latitude\":18.065019,\"longitude\":109.687148},{\"latitude\":18.065031,\"longitude\":109.686736},{\"latitude\":18.065047,\"longitude\":109.686324},{\"latitude\":18.065066,\"longitude\":109.685913},{\"latitude\":18.065088,\"longitude\":109.685501},{\"latitude\":18.065114,\"longitude\":109.68509},{\"latitude\":18.065143,\"longitude\":109.684679},{\"latitude\":18.065176,\"longitude\":109.684268},{\"latitude\":18.065212,\"longitude\":109.683858},{\"latitude\":18.065251,\"longitude\":109.683448},{\"latitude\":18.065294,\"longitude\":109.683038},{\"latitude\":18.06534,\"longitude\":109.682629},{\"latitude\":18.06539,\"longitude\":109.68222},{\"latitude\":18.065443,\"longitude\":109.681811},{\"latitude\":18.0655,\"longitude\":109.681404},{\"latitude\":18.06556,\"longitude\":109.680996},{\"latitude\":18.065623,\"longitude\":109.680589},{\"latitude\":18.06569,\"longitude\":109.680183},{\"latitude\":18.06576,\"longitude\":109.679778},{\"latitude\":18.065834,\"longitude\":109.679373},{\"latitude\":18.06591,\"longitude\":109.678968},{\"latitude\":18.065991,\"longitude\":109.678565},{\"latitude\":18.066074,\"longitude\":109.678162},{\"latitude\":18.066161,\"longitude\":109.67776},{\"latitude\":18.066252,\"longitude\":109.677359},{\"latitude\":18.066345,\"longitude\":109.676959},{\"latitude\":18.066442,\"longitude\":109.676559},{\"latitude\":18.066543,\"longitude\":109.676161},{\"latitude\":18.066646,\"longitude\":109.675763},{\"latitude\":18.066753,\"longitude\":109.675366},{\"latitude\":18.066864,\"longitude\":109.67497},{\"latitude\":18.066977,\"longitude\":109.674576},{\"latitude\":18.067094,\"longitude\":109.674182},{\"latitude\":18.067214,\"longitude\":109.67379},{\"latitude\":18.067338,\"longitude\":109.673398},{\"latitude\":18.067464,\"longitude\":109.673008},{\"latitude\":18.067594,\"longitude\":109.672619},{\"latitude\":18.067727,\"longitude\":109.672231},{\"latitude\":18.067864,\"longitude\":109.671844},{\"latitude\":18.068004,\"longitude\":109.671459},{\"latitude\":18.068146,\"longitude\":109.671075},{\"latitude\":18.068292,\"longitude\":109.670692},{\"latitude\":18.068442,\"longitude\":109.67031},{\"latitude\":18.068594,\"longitude\":109.66993},{\"latitude\":18.06875,\"longitude\":109.669551},{\"latitude\":18.068908,\"longitude\":109.669174},{\"latitude\":18.06907,\"longitude\":109.668798},{\"latitude\":18.069235,\"longitude\":109.668424},{\"latitude\":18.069403,\"longitude\":109.668051},{\"latitude\":18.069575,\"longitude\":109.66768},{\"latitude\":18.069749,\"longitude\":109.66731},{\"latitude\":18.069926,\"longitude\":109.666942},{\"latitude\":18.070107,\"longitude\":109.666576},{\"latitude\":18.07029,\"longitude\":109.666211},{\"latitude\":18.070477,\"longitude\":109.665848},{\"latitude\":18.070666,\"longitude\":109.665486},{\"latitude\":18.070859,\"longitude\":109.665127},{\"latitude\":18.071055,\"longitude\":109.664769},{\"latitude\":18.071253,\"longitude\":109.664413},{\"latitude\":18.071455,\"longitude\":109.664059},{\"latitude\":18.071659,\"longitude\":109.663706},{\"latitude\":18.071867,\"longitude\":109.663356},{\"latitude\":18.072077,\"longitude\":109.663007},{\"latitude\":18.07229,\"longitude\":109.66266},{\"latitude\":18.072506,\"longitude\":109.662316},{\"latitude\":18.072725,\"longitude\":109.661973},{\"latitude\":18.072947,\"longitude\":109.661632},{\"latitude\":18.073172,\"longitude\":109.661294},{\"latitude\":18.073399,\"longitude\":109.660957},{\"latitude\":18.073629,\"longitude\":109.660622},{\"latitude\":18.073862,\"longitude\":109.66029},{\"latitude\":18.074098,\"longitude\":109.65996},{\"latitude\":18.074337,\"longitude\":109.659632},{\"latitude\":18.074578,\"longitude\":109.659306},{\"latitude\":18.074822,\"longitude\":109.658982},{\"latitude\":18.075069,\"longitude\":109.65866},{\"latitude\":18.075318,\"longitude\":109.658341},{\"latitude\":18.07557,\"longitude\":109.658024},{\"latitude\":18.075825,\"longitude\":109.65771},{\"latitude\":18.076082,\"longitude\":109.657397},{\"latitude\":18.076342,\"longitude\":109.657087},{\"latitude\":18.076605,\"longitude\":109.65678},{\"latitude\":18.07687,\"longitude\":109.656475},{\"latitude\":18.077137,\"longitude\":109.656172},{\"latitude\":18.077407,\"longitude\":109.655872},{\"latitude\":18.07768,\"longitude\":109.655574},{\"latitude\":18.077955,\"longitude\":109.655279},{\"latitude\":18.078232,\"longitude\":109.654986},{\"latitude\":18.078512,\"longitude\":109.654695},{\"latitude\":18.078795,\"longitude\":109.654408},{\"latitude\":18.079079,\"longitude\":109.654123},{\"latitude\":18.079366,\"longitude\":109.65384},{\"latitude\":18.079656,\"longitude\":109.65356},{\"latitude\":18.079948,\"longitude\":109.653283},{\"latitude\":18.080242,\"longitude\":109.653009},{\"latitude\":18.080538,\"longitude\":109.652737},{\"latitude\":18.080837,\"longitude\":109.652468},{\"latitude\":18.081137,\"longitude\":109.652201},{\"latitude\":18.08144,\"longitude\":109.651938},{\"latitude\":18.081746,\"longitude\":109.651677},{\"latitude\":18.082053,\"longitude\":109.651419},{\"latitude\":18.082363,\"longitude\":109.651164},{\"latitude\":18.082674,\"longitude\":109.650911},{\"latitude\":18.082988,\"longitude\":109.650662},{\"latitude\":18.083304,\"longitude\":109.650415},{\"latitude\":18.083622,\"longitude\":109.650171},{\"latitude\":18.083942,\"longitude\":109.64993},{\"latitude\":18.084263,\"longitude\":109.649692},{\"latitude\":18.084587,\"longitude\":109.649457},{\"latitude\":18.084913,\"longitude\":109.649225},{\"latitude\":18.085241,\"longitude\":109.648996},{\"latitude\":18.085571,\"longitude\":109.64877},{\"latitude\":18.085902,\"longitude\":109.648547},{\"latitude\":18.086235,\"longitude\":109.648327},{\"latitude\":18.086571,\"longitude\":109.64811},{\"latitude\":18.086908,\"longitude\":109.647896},{\"latitude\":18.087246,\"longitude\":109.647685},{\"latitude\":18.087587,\"longitude\":109.647477},{\"latitude\":18.087929,\"longitude\":109.647273},{\"latitude\":18.088273,\"longitude\":109.647071},{\"latitude\":18.088619,\"longitude\":109.646873},{\"latitude\":18.088966,\"longitude\":109.646678},{\"latitude\":18.089315,\"longitude\":109.646486},{\"latitude\":18.089665,\"longitude\":109.646297},{\"latitude\":18.090017,\"longitude\":109.646111},{\"latitude\":18.090371,\"longitude\":109.645929},{\"latitude\":18.090726,\"longitude\":109.64575},{\"latitude\":18.091082,\"longitude\":109.645574},{\"latitude\":18.09144,\"longitude\":109.645401},{\"latitude\":18.091799,\"longitude\":109.645232},{\"latitude\":18.09216,\"longitude\":109.645066},{\"latitude\":18.092522,\"longitude\":109.644903},{\"latitude\":18.092886,\"longitude\":109.644743},{\"latitude\":18.093251,\"longitude\":109.644587},{\"latitude\":18.093617,\"longitude\":109.644434},{\"latitude\":18.093984,\"longitude\":109.644285},{\"latitude\":18.094353,\"longitude\":109.644139},{\"latitude\":18.094723,\"longitude\":109.643996},{\"latitude\":18.095094,\"longitude\":109.643856},{\"latitude\":18.095466,\"longitude\":109.64372},{\"latitude\":18.095839,\"longitude\":109.643588},{\"latitude\":18.096214,\"longitude\":109.643459},{\"latitude\":18.096589,\"longitude\":109.643333},{\"latitude\":18.096965,\"longitude\":109.643211},{\"latitude\":18.097343,\"longitude\":109.643092},{\"latitude\":18.097721,\"longitude\":109.642976},{\"latitude\":18.098101,\"longitude\":109.642864},{\"latitude\":18.098481,\"longitude\":109.642756},{\"latitude\":18.098862,\"longitude\":109.642651},{\"latitude\":18.099244,\"longitude\":109.642549},{\"latitude\":18.099627,\"longitude\":109.642451},{\"latitude\":18.100011,\"longitude\":109.642356},{\"latitude\":18.100395,\"longitude\":109.642265},{\"latitude\":18.100781,\"longitude\":109.642178},{\"latitude\":18.101167,\"longitude\":109.642094},{\"latitude\":18.101553,\"longitude\":109.642013},{\"latitude\":18.10194,\"longitude\":109.641936},{\"latitude\":18.102328,\"longitude\":109.641863},{\"latitude\":18.102717,\"longitude\":109.641793},{\"latitude\":18.103106,\"longitude\":109.641726},{\"latitude\":18.103496,\"longitude\":109.641664},{\"latitude\":18.103886,\"longitude\":109.641604},{\"latitude\":18.104276,\"longitude\":109.641549},{\"latitude\":18.104667,\"longitude\":109.641497},{\"latitude\":18.105059,\"longitude\":109.641448},{\"latitude\":18.105451,\"longitude\":109.641403},{\"latitude\":18.105843,\"longitude\":109.641362},{\"latitude\":18.106236,\"longitude\":109.641324},{\"latitude\":18.106628,\"longitude\":109.64129},{\"latitude\":18.107022,\"longitude\":109.641259},{\"latitude\":18.107415,\"longitude\":109.641232},{\"latitude\":18.107808,\"longitude\":109.641208},{\"latitude\":18.108202,\"longitude\":109.641188},{\"latitude\":18.108596,\"longitude\":109.641172},{\"latitude\":18.10899,\"longitude\":109.641159},{\"latitude\":18.109384,\"longitude\":109.64115},{\"latitude\":18.109778,\"longitude\":109.641145},{\"latitude\":18.110173,\"longitude\":109.641143},{\"latitude\":18.110567,\"longitude\":109.641145},{\"latitude\":18.110961,\"longitude\":109.64115},{\"latitude\":18.111355,\"longitude\":109.641159},{\"latitude\":18.111749,\"longitude\":109.641171},{\"latitude\":18.112143,\"longitude\":109.641187},{\"latitude\":18.112537,\"longitude\":109.641207},{\"latitude\":18.112931,\"longitude\":109.64123},{\"latitude\":18.113324,\"longitude\":109.641257},{\"latitude\":18.113717,\"longitude\":109.641288},{\"latitude\":18.11411,\"longitude\":109.641322},{\"latitude\":18.114503,\"longitude\":109.641359},{\"latitude\":18.114895,\"longitude\":109.6414},{\"latitude\":18.115287,\"longitude\":109.641445},{\"latitude\":18.115678,\"longitude\":109.641494},{\"latitude\":18.116069,\"longitude\":109.641546},{\"latitude\":18.11646,\"longitude\":109.641601},{\"latitude\":18.11685,\"longitude\":109.64166},{\"latitude\":18.11724,\"longitude\":109.641723},{\"latitude\":18.117629,\"longitude\":109.641789},{\"latitude\":18.118017,\"longitude\":109.641859},{\"latitude\":18.118405,\"longitude\":109.641932},{\"latitude\":18.118793,\"longitude\":109.642009},{\"latitude\":18.119179,\"longitude\":109.642089},{\"latitude\":18.119565,\"longitude\":109.642173},{\"latitude\":18.119951,\"longitude\":109.64226},{\"latitude\":18.120335,\"longitude\":109.642351},{\"latitude\":18.120719,\"longitude\":109.642445},{\"latitude\":18.121102,\"longitude\":109.642543},{\"latitude\":18.121484,\"longitude\":109.642645},{\"latitude\":18.121865,\"longitude\":109.64275},{\"latitude\":18.122246,\"longitude\":109.642858},{\"latitude\":18.122625,\"longitude\":109.64297},{\"latitude\":18.123003,\"longitude\":109.643085},{\"latitude\":18.123381,\"longitude\":109.643204},{\"latitude\":18.123757,\"longitude\":109.643326},{\"latitude\":18.124133,\"longitude\":109.643452},{\"latitude\":18.124507,\"longitude\":109.643581},{\"latitude\":18.124881,\"longitude\":109.643713},{\"latitude\":18.125253,\"longitude\":109.643849},{\"latitude\":18.125624,\"longitude\":109.643988},{\"latitude\":18.125994,\"longitude\":109.644131},{\"latitude\":18.126363,\"longitude\":109.644277},{\"latitude\":18.12673,\"longitude\":109.644426},{\"latitude\":18.127096,\"longitude\":109.644579},{\"latitude\":18.127461,\"longitude\":109.644735},{\"latitude\":18.127825,\"longitude\":109.644894},{\"latitude\":18.128187,\"longitude\":109.645057},{\"latitude\":18.128548,\"longitude\":109.645223},{\"latitude\":18.128907,\"longitude\":109.645392},{\"latitude\":18.129265,\"longitude\":109.645564},{\"latitude\":18.129622,\"longitude\":109.64574},{\"latitude\":18.129977,\"longitude\":109.645919},{\"latitude\":18.130331,\"longitude\":109.646102},{\"latitude\":18.130683,\"longitude\":109.646287},{\"latitude\":18.131033,\"longitude\":109.646476},{\"latitude\":18.131382,\"longitude\":109.646668},{\"latitude\":18.131729,\"longitude\":109.646863},{\"latitude\":18.132075,\"longitude\":109.647061},{\"latitude\":18.132419,\"longitude\":109.647262},{\"latitude\":18.132761,\"longitude\":109.647467},{\"latitude\":18.133102,\"longitude\":109.647674},{\"latitude\":18.133441,\"longitude\":109.647885},{\"latitude\":18.133778,\"longitude\":109.648099},{\"latitude\":18.134113,\"longitude\":109.648316},{\"latitude\":18.134447,\"longitude\":109.648536},{\"latitude\":18.134778,\"longitude\":109.648759},{\"latitude\":18.135108,\"longitude\":109.648985},{\"latitude\":18.135436,\"longitude\":109.649214},{\"latitude\":18.135762,\"longitude\":109.649446},{\"latitude\":18.136086,\"longitude\":109.649681},{\"latitude\":18.136408,\"longitude\":109.649919},{\"latitude\":18.136728,\"longitude\":109.65016},{\"latitude\":18.137046,\"longitude\":109.650403},{\"latitude\":18.137362,\"longitude\":109.65065},{\"latitude\":18.137675,\"longitude\":109.650899},{\"latitude\":18.137987,\"longitude\":109.651152},{\"latitude\":18.138297,\"longitude\":109.651407},{\"latitude\":18.138604,\"longitude\":109.651665},{\"latitude\":18.13891,\"longitude\":109.651926},{\"latitude\":18.139213,\"longitude\":109.652189},{\"latitude\":18.139514,\"longitude\":109.652456},{\"latitude\":18.139812,\"longitude\":109.652725},{\"latitude\":18.140109,\"longitude\":109.652997},{\"latitude\":18.140403,\"longitude\":109.653271},{\"latitude\":18.140695,\"longitude\":109.653548},{\"latitude\":18.140984,\"longitude\":109.653828},{\"latitude\":18.141272,\"longitude\":109.654111},{\"latitude\":18.141556,\"longitude\":109.654396},{\"latitude\":18.141839,\"longitude\":109.654683},{\"latitude\":18.142119,\"longitude\":109.654974},{\"latitude\":18.142396,\"longitude\":109.655266},{\"latitude\":18.142672,\"longitude\":109.655562},{\"latitude\":18.142944,\"longitude\":109.65586},{\"latitude\":18.143214,\"longitude\":109.65616},{\"latitude\":18.143482,\"longitude\":109.656463},{\"latitude\":18.143747,\"longitude\":109.656768},{\"latitude\":18.14401,\"longitude\":109.657075},{\"latitude\":18.14427,\"longitude\":109.657385},{\"latitude\":18.144527,\"longitude\":109.657698},{\"latitude\":18.144782,\"longitude\":109.658012},{\"latitude\":18.145034,\"longitude\":109.658329},{\"latitude\":18.145283,\"longitude\":109.658648},{\"latitude\":18.14553,\"longitude\":109.65897},{\"latitude\":18.145774,\"longitude\":109.659294},{\"latitude\":18.146016,\"longitude\":109.65962},{\"latitude\":18.146254,\"longitude\":109.659948},{\"latitude\":18.14649,\"longitude\":109.660278},{\"latitude\":18.146723,\"longitude\":109.660611},{\"latitude\":18.146954,\"longitude\":109.660945},{\"latitude\":18.147181,\"longitude\":109.661282},{\"latitude\":18.147406,\"longitude\":109.661621},{\"latitude\":18.147628,\"longitude\":109.661962},{\"latitude\":18.147847,\"longitude\":109.662305},{\"latitude\":18.148063,\"longitude\":109.662649},{\"latitude\":18.148277,\"longitude\":109.662996},{\"latitude\":18.148487,\"longitude\":109.663345},{\"latitude\":18.148695,\"longitude\":109.663695},{\"latitude\":18.148899,\"longitude\":109.664048},{\"latitude\":18.149101,\"longitude\":109.664402},{\"latitude\":18.149299,\"longitude\":109.664758},{\"latitude\":18.149495,\"longitude\":109.665116},{\"latitude\":18.149688,\"longitude\":109.665476},{\"latitude\":18.149877,\"longitude\":109.665838},{\"latitude\":18.150064,\"longitude\":109.666201},{\"latitude\":18.150248,\"longitude\":109.666566},{\"latitude\":18.150428,\"longitude\":109.666932},{\"latitude\":18.150606,\"longitude\":109.667301},{\"latitude\":18.15078,\"longitude\":109.66767},{\"latitude\":18.150951,\"longitude\":109.668042},{\"latitude\":18.151119,\"longitude\":109.668415},{\"latitude\":18.151285,\"longitude\":109.668789},{\"latitude\":18.151447,\"longitude\":109.669165},{\"latitude\":18.151605,\"longitude\":109.669543},{\"latitude\":18.151761,\"longitude\":109.669921},{\"latitude\":18.151913,\"longitude\":109.670302},{\"latitude\":18.152063,\"longitude\":109.670683},{\"latitude\":18.152209,\"longitude\":109.671066},{\"latitude\":18.152352,\"longitude\":109.671451},{\"latitude\":18.152491,\"longitude\":109.671836},{\"latitude\":18.152628,\"longitude\":109.672223},{\"latitude\":18.152761,\"longitude\":109.672611},{\"latitude\":18.152891,\"longitude\":109.673},{\"latitude\":18.153018,\"longitude\":109.673391},{\"latitude\":18.153141,\"longitude\":109.673782},{\"latitude\":18.153262,\"longitude\":109.674175},{\"latitude\":18.153379,\"longitude\":109.674569},{\"latitude\":18.153492,\"longitude\":109.674964},{\"latitude\":18.153603,\"longitude\":109.67536},{\"latitude\":18.15371,\"longitude\":109.675757},{\"latitude\":18.153813,\"longitude\":109.676154},{\"latitude\":18.153914,\"longitude\":109.676553},{\"latitude\":18.154011,\"longitude\":109.676953},{\"latitude\":18.154105,\"longitude\":109.677353},{\"latitude\":18.154195,\"longitude\":109.677755},{\"latitude\":18.154282,\"longitude\":109.678157},{\"latitude\":18.154366,\"longitude\":109.67856},{\"latitude\":18.154446,\"longitude\":109.678964},{\"latitude\":18.154523,\"longitude\":109.679368},{\"latitude\":18.154596,\"longitude\":109.679773},{\"latitude\":18.154667,\"longitude\":109.680179},{\"latitude\":18.154733,\"longitude\":109.680585},{\"latitude\":18.154797,\"longitude\":109.680992},{\"latitude\":18.154857,\"longitude\":109.6814},{\"latitude\":18.154913,\"longitude\":109.681808},{\"latitude\":18.154966,\"longitude\":109.682217},{\"latitude\":18.155016,\"longitude\":109.682626},{\"latitude\":18.155063,\"longitude\":109.683035},{\"latitude\":18.155105,\"longitude\":109.683445},{\"latitude\":18.155145,\"longitude\":109.683855},{\"latitude\":18.155181,\"longitude\":109.684266},{\"latitude\":18.155214,\"longitude\":109.684677},{\"latitude\":18.155243,\"longitude\":109.685088},{\"latitude\":18.155269,\"longitude\":109.6855},{\"latitude\":18.155291,\"longitude\":109.685911},{\"latitude\":18.15531,\"longitude\":109.686323},{\"latitude\":18.155325,\"longitude\":109.686735},{\"latitude\":18.155338,\"longitude\":109.687148},{\"latitude\":18.155346,\"longitude\":109.68756},{\"latitude\":18.155351,\"longitude\":109.687972},{\"latitude\":18.155353,\"longitude\":109.688384}]";

        StringBuilder sb = new StringBuilder();
        String filePath = "D:\\tomcat\\apache-tomcat-8.5.39\\webapps\\test\\keyAreaData2.json";
        readFileByChars(filePath,sb);


        JSONArray jsonArray = JSONArray.parseArray(sb.toString());
        System.out.println("原始坐标点："+jsonArray.size()+"      "+ sb.length());
        for(int i =0; i < jsonArray.size(); i++){
            JSONObject jsonObject  = (JSONObject) jsonArray.get(i);
            double latitude = jsonObject.getDouble("latitude");
            double longitude = jsonObject.getDouble("longitude");
            modelList.add(new ModelDTO(latitude,longitude,i));
        }

        douglasData(modelList);

    }


    /**
     * 以字符为单位读取文件，常用于读文本，数字等类型的文件
     */
    public static void readFileByChars(String fileName,StringBuilder stringBuilder) {
        File file = new File(fileName);
        Reader reader = null;
        try {
            System.out.println("以字符为单位读取文件内容，一次读一个字节：");
            // 一次读一个字符
            reader = new InputStreamReader(new FileInputStream(file));
            int tempchar;
            while ((tempchar = reader.read()) != -1) {
                // 对于windows下，\r\n这两个字符在一起时，表示一个换行。
                // 但如果这两个字符分开显示时，会换两次行。
                // 因此，屏蔽掉\r，或者屏蔽\n。否则，将会多出很多空行。
                if (((char) tempchar) != '\r') {
                    stringBuilder.append((char) tempchar);
                }
            }
            reader.close();
        } catch (Exception e) {
            e.printStackTrace();
        }

    }

}
